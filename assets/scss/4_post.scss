@import "./components/variables";
@import "./components/mixins";

#article,
#tagged {
	&.no-image { 
		.article-header {
			@apply text-primary-800;
			.article-header-content {
				@apply pt-4;
				a {
					@apply text-primary-800;
				}
			}
		}
	}
	.article-header {
		@apply m-0 relative text-primary-50;
		.article-image {
			@apply flex items-center justify-center absolute top-0 left-0 w-full h-full z-0;
			img {
				@apply object-cover w-full h-full brightness-50;
			}
		}
		.article-header-content {
			@apply pt-80;
			a {
				@apply text-primary-50;
			}
			h1 {
				@apply text-6xl leading-snug tracking-widest;
			}
			h1, p, ul, ol, .article-tag{
				@apply px-24 py-4; 
			}
			.badge-primary {
				background-color: var(--ghost-accent-color);
			}
			a.badge-primary {
				background-color: var(--ghost-accent-color);
				&:hover {
					@apply brightness-75;
				}
			}
			p {
				font-size: 1.2rem;
			}
			.article-byline {
				@apply font-header px-24 py-4; 

				.author-list {
					list-style: none;
					margin-left: 0;
				}
				.author-avatar {
					@apply w-16 h-16 overflow-hidden relative;
					.author-profile-image {
						width: 100%;
						height: 100%;
						background-color: transparent;
						background-repeat: no-repeat;
						background-position: 50%;
						background-size: cover;
						border-radius: 50%;
						border: 3px solid $platinum;
					}
					&:hover {
						z-index: 11 !important;
					}
					&:first-child {
						z-index: 10;
					}
		
					&:nth-child(2) {
						z-index: 9;
					}
		
					&:nth-child(3) {
						z-index: 8;
					}
		
					&:nth-child(4) {
						z-index: 7;
					}
		
					&:nth-child(5) {
						z-index: 6;
					}
				}
			}
		}
	}
	
	.article-content {
		@apply text-xl leading-8;
		h1, h2, h3 ,h4 ,h5 ,h6 {
			color: var(--ghost-accent-color);
			@apply m-2 mt-8;
			&:before {
				content: '> ';
			}
			@include containerReplace();
		}
		h3 {
			@apply text-2xl tracking-widest;
		}
		p, pre {
			@apply mb-4;
		}
		hr {
			@apply m-12;
		}
		> p, > pre, > figure, > blockquote, > ol, > ul, > hr {
			@include containerReplace();
		}
		& > blockquote {
			@apply relative italic p-0; 
			&:before {
				content: "";
				@apply absolute -left-6 top-0 bottom-0 w-1;
				background: var(--ghost-accent-color);
			}
		}

		:not(pre) > code {
			@apply align-middle py-1 px-2 font-normal text-sm leading-4 text-primary-800 rounded bg-primary-200 border border-primary-700 whitespace-nowrap;
		}

		pre {
			@apply overflow-auto px-2 pt-8 pb-4 text-primary-200 font-normal text-base leading-6 bg-primary-700 rounded drop-shadow;

			background-image: url(/assets/images/status.png);
			background-position: 12px 7px;
			background-repeat: no-repeat;
			code {
				counter-reset: line-numbering;
				padding: 0 !important;
				background: none !important;
				.line::before {
					content: counter(line-numbering);
					counter-increment: line-numbering;
					@apply pr-3 mr-1 w-7 text-right opacity-30 inline-block;
				}
			}
		}
	}
	.pre-button {
		@apply w-2 h-2 inline-block bg-amber-700;
	}
	.kg-card + :not(.kg-card) {
		@apply mt-12;
	}
	:not(.kg-card):not([id]) + .kg-card {
		@apply mt-12;
	}	
}
#subscribe {
	@apply bg-slate-500 text-primary-50 py-12;
	h2 {
		@apply text-4xl;
	}
	.subscribe-button {
		@apply flex items-center justify-between w-full max-w-lg p-1 pl-3 text-xl rounded bg-primary-50 text-primary-800 relative mx-auto;
	}
}
#more {
	@apply pt-12 pb-16 -mx-4 bg-primary-200;
	.card {
		.card-image-top {
			@apply h-48;
		}
		&.tag-card {
			@apply bg-primary-700;
			.card-img {
				@apply h-full w-auto bg-cover brightness-75;
			}
			.card-img-overlay {
				@apply bg-gradient-to-t from-primary-700 to-transparent absolute top-0 right-0 left-0 bottom-0 p-5 rounded;
				span {
					position: absolute;
					bottom: 0;
					left: 0;
				}
			}
		}
	}
}